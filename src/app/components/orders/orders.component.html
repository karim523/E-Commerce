<section class="bg-main-light rounded-4 shadow p-2 w-75 mx-auto mb-5">
  <h1 class="text-center">shippingAddress</h1>
  <form [formGroup]="orders" (ngSubmit)="ordersSubmit()">
    <div class="my-1">
      <label for="details">Details</label>
      <input
        [ngClass]="{
        'is-valid':!orders.get('details')?.errors &&
        (orders.get('details')?.touched||orders.get('details')?.dirty ),
        'is-invalid':orders.get('details')?.errors &&
        (orders.get('details')?.touched||orders.get('details')?.dirty ),
      }"
        type="text"
        formControlName="details"
        id="details"
        class="form-control"
      />
      @if( orders.get('details')?.errors &&
      (orders.get('details')?.touched||orders.get('details')?.dirty )) {
      <div class="alert alert-danger w-100">
        @if (orders.get('details')?.getError('required')) {
        <P class="m-0">Details is required</P>
        } @else if (orders.get('details')?.getError('minlength')) {
        <P class="m-0">Details Should be more than or equal 3 chars</P>
        }
      </div>
      }
    </div>

    <div class="my-1">
      <label for="phone">Phone</label>
      <input
        [ngClass]="{
        'is-valid':!orders.get('phone')?.errors &&
        (orders.get('phone')?.touched||orders.get('phone')?.dirty ),
        'is-invalid':orders.get('phone')?.errors &&
        (orders.get('phone')?.touched||orders.get('phone')?.dirty ),
      }"
        type="tel"
        formControlName="phone"
        id="phone"
        class="form-control"
      />
      @if( orders.get('phone')?.errors &&
      (orders.get('phone')?.touched||orders.get('phone')?.dirty )){
      <div class="alert alert-danger w-100">
        @if (orders.get('phone')?.getError('required')) {
        <P class="m-0">Phone is required</P>} @else if
        (orders.get('phone')?.getError('pattern')) {
        <P class="m-0">accept only egypt phone numbers </P> }
      </div>
      }
    </div>
    <div class="my-1 mb-4">
      <label for="city">City</label>
      <input
        [ngClass]="{
        'is-valid':!orders.get('city')?.errors &&
        (orders.get('city')?.touched||orders.get('city')?.dirty ),
        'is-invalid':orders.get('city')?.errors &&
        (orders.get('city')?.touched||orders.get('city')?.dirty ),
      }"
        type="text"
        formControlName="city"
        id="city"
        class="form-control"
      />
      @if( orders.get('city')?.errors &&
      (orders.get('city')?.touched||orders.get('city')?.dirty )){
      <div class="alert alert-danger w-100">
        @if (orders.get('city')?.getError('required')) {
        <P class="m-0">city is required</P>}
      </div>
      }
    </div>
    <button class="btn btn-outline-info w-100">Pay</button>
    @if (msgError) {
      <p class="alert alert-danger w-100">{{ msgError }}</p>
      }
  </form>
</section>
