import{a as E}from"./chunk-TIJERXRX.js";import{l as D}from"./chunk-CCOJ22BF.js";import{a as k}from"./chunk-HCL3OOFS.js";import"./chunk-4XS7MJVQ.js";import{n as I}from"./chunk-GEN5SA5K.js";import{$b as y,Ab as w,Eb as u,Fb as v,Ob as a,Pb as L,Qb as g,Ra as _,Va as m,Vb as W,bc as T,ea as l,fb as x,ha as f,nb as S,ra as d,sa as h,tb as b,ub as C,vb as o,wb as s,xb as p}from"./chunk-2VPKGZOA.js";var F=(r,i)=>i.id;function P(r,i){if(r&1){let n=w();o(0,"div",3)(1,"div",4)(2,"div"),p(3,"img",5),s()(),o(4,"div",6)(5,"div")(6,"h3",7),a(7),s(),o(8,"p",8),a(9),y(10,"currency"),s(),o(11,"button",9),u("click",function(){let t=d(n).$implicit,c=v();return h(c.removeItem(t.id))}),p(12,"i",10),a(13," Remove "),s()(),o(14,"button",11),u("click",function(){let t=d(n).$implicit,c=v();return h(c.addCart(t.id))}),a(15,"Add To Cart"),s()()()}if(r&2){let n=i.$implicit;m(3),S("src",n.imageCover,_)("alt",n.title),m(4),L(n.title),m(2),g("Price: ",T(10,4,n.price,"GBP"),"")}}var N=(()=>{let i=class i{constructor(){this._WishListService=l(E),this._ToastrService=l(D),this._CartService=l(k),this.wishListDetails=x([])}ngOnInit(){this.loadWishList()}removeItem(e){this._WishListService.deleteSpecificWishListItem(e).subscribe({next:()=>{this.loadWishList(),this.updateWishlist()}})}addCart(e){this._CartService.addProductToCart(e).subscribe({next:t=>{this._ToastrService.success(t.message,"Fresh Cart"),this._CartService.cartNum.set(t.numOfCartItems),this.removeItem(e),this.updateWishlist()}})}loadWishList(){this._WishListService.getProductToWishList().subscribe({next:e=>{this.wishListDetails.set(e.data)}})}updateWishlist(){let e=Array.from(this.wishListDetails().map(t=>t.id));localStorage.setItem("wishlist",JSON.stringify(e))}ngOnDestroy(){this.wishListSub?.unsubscribe()}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=f({type:i,selectors:[["app-wish-list"]],standalone:!0,features:[W],decls:6,vars:0,consts:[[1,"bg-main-light","rounded-4","shadow","p-4","my-2","container"],[1,"d-flex","justify-content-between","align-items-center"],[1,"h2"],[1,"row","mb-2","border-bottom"],[1,"col-md-2"],[1,"w-100",3,"src","alt"],[1,"col-md-10","d-flex","justify-content-between","align-items-center"],[1,"h5"],[1,"text-main"],[1,"text-danger","btn","p-0",3,"click"],[1,"fa-solid","fa-trash"],[1,"btn-main",3,"click"]],template:function(t,c){t&1&&(o(0,"section",0)(1,"div",1)(2,"h1",2),a(3,"My wish List"),s()(),b(4,P,16,7,"div",3,F),s()),t&2&&(m(4),C(c.wishListDetails()))},dependencies:[I]});let r=i;return r})();export{N as WishListComponent};
